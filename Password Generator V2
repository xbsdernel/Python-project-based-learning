import random

def generate_password():
    letters_lower = "abcdefghijklmnopqrstuvwxyz"
    letters_upper = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
    numbers = "0123456789"
    symbols = "!@#$%^&*()-_=+[]{};:,.<>?/|"

    print("Enter password length:")
    length = int(input())

    if length < 4:
        print("Password too short! Minimum length is 4.")
        return

    print("Include lowercase letters? (y/n):")
    include_lower = input().lower() == "y"

    print("Include uppercase letters? (y/n):")
    include_upper = input().lower() == "y"

    print("Include numbers? (y/n):")
    include_numbers = input().lower() == "y"

    print("Include symbols? (y/n):")
    include_symbols = input().lower() == "y"

    all_chars = ""

    if include_lower:
        all_chars += letters_lower
    if include_upper:
        all_chars += letters_upper
    if include_numbers:
        all_chars += numbers
    if include_symbols:
        all_chars += symbols

    if all_chars == "":
        print("No character types selected! Using lowercase letters by default.")
        all_chars = letters_lower

    print("How many passwords to generate?")
    count = int(input())

    passwords = []
    for i in range(count):
        password = ""
        for j in range(length):
            password += random.choice(all_chars)
        passwords.append(password)

    print("\nGenerated Passwords:")
    for p in passwords:
        print(p)

    with open("generated_passwords.txt", "a") as file:
        for p in passwords:
            file.write(p + "\n")

    print("\nPasswords saved to 'generated_passwords.txt'")

    print("\nGenerate more passwords? (y/n):")
    again = input().lower()
    if again == "y":
        generate_password()
    else:
        print("Goodbye!")

generate_password()
